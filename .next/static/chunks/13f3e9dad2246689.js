(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81694,e=>{"use strict";e.s(["default",()=>d],81694);var t=e.i(43476),a=e.i(71645);let i={ا:{base:"ا",joinToNext:!1},ب:{base:"ب",joinToNext:!0},ت:{base:"ت",joinToNext:!0},ث:{base:"ث",joinToNext:!0},ج:{base:"ج",joinToNext:!0},ح:{base:"ح",joinToNext:!0},خ:{base:"خ",joinToNext:!0},د:{base:"د",joinToNext:!1},ذ:{base:"ذ",joinToNext:!1},ر:{base:"ر",joinToNext:!1},ز:{base:"ز",joinToNext:!1},س:{base:"س",joinToNext:!0},ش:{base:"ش",joinToNext:!0},ص:{base:"ص",joinToNext:!0},ض:{base:"ض",joinToNext:!0},ط:{base:"ط",joinToNext:!0},ظ:{base:"ظ",joinToNext:!0},ع:{base:"ع",joinToNext:!0},غ:{base:"غ",joinToNext:!0},ف:{base:"ف",joinToNext:!0},ق:{base:"ق",joinToNext:!0},ك:{base:"ك",joinToNext:!0},ل:{base:"ل",joinToNext:!0},م:{base:"م",joinToNext:!0},ن:{base:"ن",joinToNext:!0},ه:{base:"ه",joinToNext:!0},و:{base:"و",joinToNext:!1},ي:{base:"ي",joinToNext:!0},ء:{base:"ء",joinToNext:!1},ة:{base:"ة",joinToNext:!1}},r=[{name:"Fatha",char:"َ"},{name:"Damma",char:"ُ"},{name:"Kasra",char:"ِ"},{name:"Sukun",char:"ْ"},{name:"Shadda",char:"ّ"},{name:"Maddah",char:"ٓ"},{name:"Tanween Fatha",char:"ً"},{name:"Tanween Damma",char:"ٌ"},{name:"Tanween Kasra",char:"ٍ"}],o={"ّ":0,"ٓ":1,"َ":2,"ُ":3,"ِ":4,"ْ":5,"ً":6,"ٌ":7,"ٍ":8},s=["١","٢","٣","٤","٥","٦","٧","٨","٩","٠"],n=["،","؛","؟",".","!","-","(",")","«","»"],l=["ا","ل","ل","ه"];function c(){let{fontFamily:e="HuzaifaArabic",onType:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[d,h]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),[x,u]=(0,a.useState)(""),m=(0,a.useRef)(null),j=e=>e.sort((e,t)=>(o[e]||9)-(o[t]||9)),g=(e,t)=>!(t+3>=e.length)&&l.every((a,i)=>"letter"===e[t+i].type&&e[t+i].char===a&&(!e[t+i].diacritics||0===e[t+i].diacritics.length)),y=e=>{let a=(e=>{let t=[],a=0;for(;a<e.length;)g(e,a)?(t.push({type:"ligature",char:"ﷲ"}),a+=4):(t.push(e[a]),a++);return t})(e),r=[];for(let e=0;e<a.length;e++){var o,s;let n=a[e];if("symbol"===n.type){r.push((0,t.jsx)("span",{children:n.char},e));continue}if("ligature"===n.type){r.push((0,t.jsx)("span",{className:"ligature-allah",children:n.char},e));continue}let l=e>0?a[e-1].type:null,c=e<a.length-1?a[e+1].type:null,d="letter"===l&&(null==(o=i[a[e-1].char])?void 0:o.joinToNext),h=(null==(s=i[n.char])?void 0:s.joinToNext)&&"letter"===c,p="isolated";d&&h?p="medial":d?p="final":h&&(p="initial");let b=j([...n.diacritics||[]]),x=b.map((e,a)=>(0,t.jsx)("span",{className:"diacritic-".concat(e.charCodeAt(0).toString(16)),children:e},a)),u=b.includes("ّ"),m="letter-".concat(n.char.charCodeAt(0).toString(16));r.push((0,t.jsxs)("span",{className:"form-".concat(p," ").concat(m," ").concat(u?"with-shadda":""),children:[i[n.char].base,x]},e))}b(r),"function"==typeof c&&c(a.map(e=>"ligature"===e.type||"symbol"===e.type?e.char:i[e.char].base+(e.diacritics||[]).join("")).join(""))},N=e=>{let t=[...d,{type:"symbol",char:e}];h(t),u(t=>t+e),y(t)},f=Object.keys(i);return(0,t.jsxs)("div",{className:"p-4",style:{fontFamily:e},children:[(0,t.jsx)("input",{ref:m,type:"text",value:x,placeholder:"Paste Arabic text here or type using the keyboard below...",onChange:e=>{let t=e.target.value;u(t);let a=[],o=-1;for(let e of t)i[e]?(a.push({type:"letter",char:e,diacritics:[]}),o=a.length-1):r.some(t=>t.char===e)?o>=0?a[o].diacritics=j([...a[o].diacritics||[],e]):a.push({type:"symbol",char:e}):(a.push({type:"symbol",char:e}),o=-1);h(a),y(a)},onPaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text").replace(/\s+/g," ");u(t);let a=[],o=-1;for(let e of t)i[e]?(a.push({type:"letter",char:e,diacritics:[]}),o=a.length-1):r.some(t=>t.char===e)?o>=0?a[o].diacritics=j([...a[o].diacritics||[],e]):a.push({type:"symbol",char:e}):(a.push({type:"symbol",char:e}),o=-1);h(a),y(a)},className:"mb-4 p-4 border-2 border-gray-300 rounded-lg w-full text-right",style:{fontFamily:"".concat(e,", sans-serif"),direction:"rtl",fontSize:"24px",minHeight:"60px"}}),(0,t.jsx)("div",{dir:"rtl",className:"mb-6 p-6 border-2 border-blue-300 rounded-lg min-h-[120px] text-right bg-blue-50 shadow-md",style:{fontFamily:e,whiteSpace:"pre-wrap",fontSize:"42px",lineHeight:"1.5"},children:p.length>0?p:"اكتب هنا..."}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:r.map(e=>(0,t.jsx)("button",{onClick:()=>(e=>{let t=[...d];for(let a=t.length-1;a>=0;a--)if("letter"===t[a].type){t[a].diacritics=j([...t[a].diacritics||[],e]),h(t),u(t=>t+e),y(t);return}t.push({type:"symbol",char:e}),h(t),u(t=>t+e),y(t)})(e.char),className:"px-3 py-2 border rounded bg-yellow-100 hover:bg-yellow-200 text-xl",children:e.char},e.name))}),(0,t.jsx)("div",{className:"grid grid-cols-8 gap-2 mb-3",children:f.map(e=>(0,t.jsx)("button",{onClick:()=>(e=>{if(!i[e])return;let t=[...d,{type:"letter",char:e,diacritics:[]}];h(t),u(t=>t+e),y(t)})(e),className:"p-3 border rounded bg-blue-100 hover:bg-blue-200 text-2xl",children:e},e))}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.map(e=>(0,t.jsx)("button",{onClick:()=>N(e),className:"px-3 py-2 border rounded bg-green-100",children:e},e)),n.map(e=>(0,t.jsx)("button",{onClick:()=>N(e),className:"px-3 py-2 border rounded bg-purple-100",children:e},e))]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>N(" "),className:"px-6 py-2 border rounded bg-gray-200",children:"Space"}),(0,t.jsx)("button",{onClick:()=>{if(0===d.length)return;let e=[...d],t=e[e.length-1];"letter"===t.type&&t.diacritics&&t.diacritics.length>0?(t.diacritics.pop(),u(e=>e.slice(0,-1))):(e.pop(),u(e=>e.slice(0,-1))),h(e),y(e)},className:"px-4 py-2 border rounded bg-orange-200",children:"Backspace"}),(0,t.jsx)("button",{onClick:()=>{h([]),b([]),u(""),"function"==typeof c&&c(""),m.current&&(m.current.value="")},className:"px-4 py-2 border rounded bg-red-200",children:"Clear"})]})]})}function d(){let[e,i]=(0,a.useState)("");return(0,t.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-8",children:[(0,t.jsx)("h1",{className:"text-3xl mb-6 font-bold",children:"Arabic Keyboard (Auto Join)"}),(0,t.jsx)(c,{onType:i})]})}}]);