module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},30100,a=>{"use strict";a.s(["default",()=>k],30100);var b=a.i(87924),c=a.i(72131);let d={ا:{base:"ا",joinToNext:!1},ب:{base:"ب",joinToNext:!0},ت:{base:"ت",joinToNext:!0},ث:{base:"ث",joinToNext:!0},ج:{base:"ج",joinToNext:!0},ح:{base:"ح",joinToNext:!0},خ:{base:"خ",joinToNext:!0},د:{base:"د",joinToNext:!1},ذ:{base:"ذ",joinToNext:!1},ر:{base:"ر",joinToNext:!1},ز:{base:"ز",joinToNext:!1},س:{base:"س",joinToNext:!0},ش:{base:"ش",joinToNext:!0},ص:{base:"ص",joinToNext:!0},ض:{base:"ض",joinToNext:!0},ط:{base:"ط",joinToNext:!0},ظ:{base:"ظ",joinToNext:!0},ع:{base:"ع",joinToNext:!0},غ:{base:"غ",joinToNext:!0},ف:{base:"ف",joinToNext:!0},ق:{base:"ق",joinToNext:!0},ك:{base:"ك",joinToNext:!0},ل:{base:"ل",joinToNext:!0},م:{base:"م",joinToNext:!0},ن:{base:"ن",joinToNext:!0},ه:{base:"ه",joinToNext:!0},و:{base:"و",joinToNext:!1},ي:{base:"ي",joinToNext:!0},ء:{base:"ء",joinToNext:!1},ة:{base:"ة",joinToNext:!1}},e=[{name:"Fatha",char:"َ"},{name:"Damma",char:"ُ"},{name:"Kasra",char:"ِ"},{name:"Sukun",char:"ْ"},{name:"Shadda",char:"ّ"},{name:"Maddah",char:"ٓ"},{name:"Tanween Fatha",char:"ً"},{name:"Tanween Damma",char:"ٌ"},{name:"Tanween Kasra",char:"ٍ"}],f={"ّ":0,"ٓ":1,"َ":2,"ُ":3,"ِ":4,"ْ":5,"ً":6,"ٌ":7,"ٍ":8},g=["١","٢","٣","٤","٥","٦","٧","٨","٩","٠"],h=["،","؛","؟",".","!","-","(",")","«","»"],i=["ا","ل","ل","ه"];function j({fontFamily:a="HuzaifaArabic",onType:k}={}){let[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(""),r=(0,c.useRef)(null),s=a=>a.sort((a,b)=>(f[a]||9)-(f[b]||9)),t=(a,b)=>!(b+3>=a.length)&&i.every((c,d)=>"letter"===a[b+d].type&&a[b+d].char===c&&(!a[b+d].diacritics||0===a[b+d].diacritics.length)),u=a=>{let c=(a=>{let b=[],c=0;for(;c<a.length;)t(a,c)?(b.push({type:"ligature",char:"ﷲ"}),c+=4):(b.push(a[c]),c++);return b})(a),e=[];for(let a=0;a<c.length;a++){let f=c[a];if("symbol"===f.type){e.push((0,b.jsx)("span",{children:f.char},a));continue}if("ligature"===f.type){e.push((0,b.jsx)("span",{className:"ligature-allah",children:f.char},a));continue}let g=a>0?c[a-1].type:null,h=a<c.length-1?c[a+1].type:null,i="letter"===g&&d[c[a-1].char]?.joinToNext,j=d[f.char]?.joinToNext&&"letter"===h,k="isolated";i&&j?k="medial":i?k="final":j&&(k="initial");let l=s([...f.diacritics||[]]),m=l.map((a,c)=>(0,b.jsx)("span",{className:`diacritic-${a.charCodeAt(0).toString(16)}`,children:a},c)),n=l.includes("ّ"),o=`letter-${f.char.charCodeAt(0).toString(16)}`;e.push((0,b.jsxs)("span",{className:`form-${k} ${o} ${n?"with-shadda":""}`,children:[d[f.char].base,m]},a))}o(e),"function"==typeof k&&k(c.map(a=>"ligature"===a.type||"symbol"===a.type?a.char:d[a.char].base+(a.diacritics||[]).join("")).join(""))},v=a=>{let b=[...l,{type:"symbol",char:a}];m(b),q(b=>b+a),u(b)},w=Object.keys(d);return(0,b.jsxs)("div",{className:"p-4",style:{fontFamily:a},children:[(0,b.jsx)("input",{ref:r,type:"text",value:p,placeholder:"Paste Arabic text here or type using the keyboard below...",onChange:a=>{let b=a.target.value;q(b);let c=[],f=-1;for(let a of b)d[a]?(c.push({type:"letter",char:a,diacritics:[]}),f=c.length-1):e.some(b=>b.char===a)?f>=0?c[f].diacritics=s([...c[f].diacritics||[],a]):c.push({type:"symbol",char:a}):(c.push({type:"symbol",char:a}),f=-1);m(c),u(c)},onPaste:a=>{a.preventDefault();let b=a.clipboardData.getData("text").replace(/\s+/g," ");q(b);let c=[],f=-1;for(let a of b)d[a]?(c.push({type:"letter",char:a,diacritics:[]}),f=c.length-1):e.some(b=>b.char===a)?f>=0?c[f].diacritics=s([...c[f].diacritics||[],a]):c.push({type:"symbol",char:a}):(c.push({type:"symbol",char:a}),f=-1);m(c),u(c)},className:"mb-4 p-4 border-2 border-gray-300 rounded-lg w-full text-right",style:{fontFamily:`${a}, sans-serif`,direction:"rtl",fontSize:"24px",minHeight:"60px"}}),(0,b.jsx)("div",{dir:"rtl",className:"mb-6 p-6 border-2 border-blue-300 rounded-lg min-h-[120px] text-right bg-blue-50 shadow-md",style:{fontFamily:a,whiteSpace:"pre-wrap",fontSize:"42px",lineHeight:"1.5"},children:n.length>0?n:"اكتب هنا..."}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.map(a=>(0,b.jsx)("button",{onClick:()=>(a=>{let b=[...l];for(let c=b.length-1;c>=0;c--)if("letter"===b[c].type){b[c].diacritics=s([...b[c].diacritics||[],a]),m(b),q(b=>b+a),u(b);return}b.push({type:"symbol",char:a}),m(b),q(b=>b+a),u(b)})(a.char),className:"px-3 py-2 border rounded bg-yellow-100 hover:bg-yellow-200 text-xl",children:a.char},a.name))}),(0,b.jsx)("div",{className:"grid grid-cols-8 gap-2 mb-3",children:w.map(a=>(0,b.jsx)("button",{onClick:()=>(a=>{if(!d[a])return;let b=[...l,{type:"letter",char:a,diacritics:[]}];m(b),q(b=>b+a),u(b)})(a),className:"p-3 border rounded bg-blue-100 hover:bg-blue-200 text-2xl",children:a},a))}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[g.map(a=>(0,b.jsx)("button",{onClick:()=>v(a),className:"px-3 py-2 border rounded bg-green-100",children:a},a)),h.map(a=>(0,b.jsx)("button",{onClick:()=>v(a),className:"px-3 py-2 border rounded bg-purple-100",children:a},a))]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>v(" "),className:"px-6 py-2 border rounded bg-gray-200",children:"Space"}),(0,b.jsx)("button",{onClick:()=>{if(0===l.length)return;let a=[...l],b=a[a.length-1];"letter"===b.type&&b.diacritics&&b.diacritics.length>0?(b.diacritics.pop(),q(a=>a.slice(0,-1))):(a.pop(),q(a=>a.slice(0,-1))),m(a),u(a)},className:"px-4 py-2 border rounded bg-orange-200",children:"Backspace"}),(0,b.jsx)("button",{onClick:()=>{m([]),o([]),q(""),"function"==typeof k&&k(""),r.current&&(r.current.value="")},className:"px-4 py-2 border rounded bg-red-200",children:"Clear"})]})]})}function k(){let[a,d]=(0,c.useState)("");return(0,b.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-8",children:[(0,b.jsx)("h1",{className:"text-3xl mb-6 font-bold",children:"Arabic Keyboard (Auto Join)"}),(0,b.jsx)(j,{onType:d})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__98767411._.js.map